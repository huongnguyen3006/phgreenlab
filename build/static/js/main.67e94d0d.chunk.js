(this.webpackJsonpphgreenlab=this.webpackJsonpphgreenlab||[]).push([[0],{14:function(e,t,c){},34:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(21),r=c.n(a),i=(c(34),c(2)),l=(c.p,c(14),c(35),c(36),c(29)),j=c(3),o=c.p+"static/media/logo.b0710228.jpg",b=c(8),d=c(6),u=c(0);function h(){return Object(u.jsx)("nav",{class:"navbar navbar-expand-sm navbar-light",children:Object(u.jsxs)("div",{class:"container",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"#",children:Object(u.jsx)("img",{src:o,alt:"Logo",style:{width:60,height:50},class:"rounded-pill"})}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleNavbar",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsx)("div",{class:"collapse navbar-collapse",id:"collapsibleNavbar",children:Object(u.jsxs)("ul",{class:"navbar-nav",children:[Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsxs)("a",{style:{color:"#388e3c",fontSize:25},class:"nav-link",href:"/",children:[" ",Object(u.jsx)(b.a,{icon:d.g})," "]})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{style:{color:"#388e3c",fontSize:25},class:"nav-link",href:"/dashboard",children:"OMS"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{style:{color:"#388e3c",fontSize:25},class:"nav-link",href:"/devicesform",children:"Device"})}),Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{style:{color:"#388e3c",fontSize:25},class:"nav-link",href:"/users",children:"User"})}),Object(u.jsx)("div",{class:"nav-item dropdown",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown",style:{float:"right",color:"#388e3c",fontSize:25},children:"smartpH"}),Object(u.jsxs)("ul",{class:"dropdown-menu  ",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{class:"dropdown-item",href:"/signin",children:"Sign In"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{class:"dropdown-item",href:"/signup",children:"Sign Up"})}),Object(u.jsx)("li",{children:null!==localStorage.getItem("Token")&&""!==localStorage.getItem("Token")?Object(u.jsxs)("a",{class:"dropdown-item",href:"#",onClick:function(){return localStorage.removeItem("Token"),void(window.location="/")},children:[Object(u.jsx)(b.a,{icon:d.i,fixedWidth:!0})," Log Out"]}):""})]})]})})]})})]})})}var O=c(4),x=c.n(O),m=c(7),f=c(12),p=c.n(f),v=c(15),g=c.n(v),y=c(16),S=c.n(y);function N(){var e=window.localStorage.getItem("Token"),t=Object(n.useState)([]),c=Object(i.a)(t,2),s=(c[0],c[1]),a=Object(n.useState)(""),r=Object(i.a)(a,2),l=(r[0],r[1],Object(n.useState)([])),j=Object(i.a)(l,2),o=j[0],b=j[1],d=Object(n.useState)(""),h=Object(i.a)(d,2),O=h[0],f=h[1],v=Object(n.useState)(""),y=Object(i.a)(v,2),N=y[0],w=y[1],D=Object(n.useState)([]),T=Object(i.a)(D,2),k=T[0],C=T[1];function I(){return new Date}function A(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(A(new Date(I().getTime()-2592e6))),w(A(I()));case 2:case"end":return e.stop()}}),e)}))),[]);var E=function(){var t=Object(m.a)(x.a.mark((function t(){var c,n,a,r,i,l,j,d,u,h,m,f,p;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=window.location.search,n=new URLSearchParams(c),a=n.get("DeviceSerialNumber"),r="".concat("http://thegreenlab.xyz:3000","/Datums/StatisticDataByDevice?DeviceSerialNumber=").concat(a,"&StartDate=").concat(O,"&EndDate=").concat(N),t.next=6,fetch(r,{method:"GET",headers:{Authorization:"Basic "+e}});case 6:return i=t.sent,t.prev=7,t.next=10,i.json();case 10:l=t.sent,b(l),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.log("Error "+t.t0.message),s([]);case 18:return t.prev=18,t.finish(18);case 20:for(j=[],d=0;d<o.length;d++){for(u=o[d],h=[],m=0;m<u.data.length;m++)h.push(u.data[m].AVG);for(f=[],m=0;m<u.data.length;m++)f.push(u.data[m].MIN);for(p=[],m=0;m<u.data.length;m++)p.push(u.data[m].MAX);j.push({chart:{type:"spline"},title:{text:u.sensorType},series:[{name:"Avg",data:h},{name:"Min",data:f},{name:"Max",data:p}]})}C(j);case 23:case"end":return t.stop()}}),t,null,[[7,14,18,20]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("h2",{children:"Details"}),Object(u.jsx)("label",{children:"From date:"})," ",Object(u.jsx)("n",{}),Object(u.jsx)("input",{type:"date",value:O,onChange:function(e){return f(e.target.value)}})," ",Object(u.jsx)("n",{}),Object(u.jsx)("n",{}),Object(u.jsx)("label",{children:"To date:"}),Object(u.jsx)("n",{}),Object(u.jsx)("input",{type:"date",value:N,onChange:function(e){return w(e.target.value)}})," ",Object(u.jsx)("n",{}),Object(u.jsx)("button",{onClick:function(){return E()},children:"Show"}),o.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{style:{fontWeight:"bold",color:"#087f23",margin:10},children:e.sensorType}),Object(u.jsxs)("div",{className:"table-details",children:[Object(u.jsx)("div",{className:"table-value",children:Object(u.jsxs)("table",{className:"table table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Date"}),Object(u.jsx)("td",{style:{color:"#4fc3f7"},children:"Avg"}),Object(u.jsx)("td",{children:"Min"}),Object(u.jsx)("td",{style:{color:"#67d669"},children:"Max"})]})}),Object(u.jsx)("tbody",{children:e.data.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:p()(e.DateOnly).format("YYYY-MM-DD")}),Object(u.jsx)("td",{style:{color:"#4fc3f7"},children:Math.round(100*e.AVG)/100}),Object(u.jsx)("td",{children:Math.round(100*e.MIN,2)/100}),Object(u.jsx)("td",{style:{color:"#67d669"},children:Math.round(100*e.MAX,2)/100})]})}))})]})}),Object(u.jsx)("div",{className:"chartdetails",children:Object(u.jsx)(S.a,{highcharts:g.a,options:k[t]})})]})]})}))]})}var w=c(10);function D(){var e=Object(w.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(w.useState)(""),a=Object(i.a)(s,2),r=a[0],l=a[1],j=Object(w.useState)([]),o=Object(i.a)(j,2),h=(o[0],o[1],Object(w.useState)(!0)),O=Object(i.a)(h,2),f=(O[0],O[1],"http://thegreenlab.xyz:3000");function p(){return(p=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"/Users/Auth/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:c,Password:r})});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:e.sent,localStorage.setItem("Token",btoa(c+":"+r)),window.location="/dashboard",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)("marquee",{direction:"up",className:"slogan",children:"\u201cA PIONEER OF HIGH QUALITY!\u201d"}),Object(u.jsxs)("div",{className:"signin",children:[Object(u.jsx)("h1",{style:{textAlign:"center",fontFamily:"inherit",color:"#757575",fontWeight:"bold",fontSize:"40px"},children:"Sign In"})," ",Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"signin-content",children:[Object(u.jsx)("label",{children:Object(u.jsx)(b.a,{icon:d.l})})," ",Object(u.jsx)("n",{}),Object(u.jsx)("input",{value:c,onChange:function(e){return n(e.target.value)},style:{width:300},type:"text",placeholder:"user, email"})," ",Object(u.jsx)("br",{}),"  ",Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:Object(u.jsx)(b.a,{icon:d.h})})," ",Object(u.jsx)("n",{}),Object(u.jsx)("input",{value:r,onChange:function(e){return l(e.target.value)},style:{width:300},type:"password",placeholder:"password"})," ",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"button",onClick:function(){return function(){return p.apply(this,arguments)}()},children:"Sign In"})," ",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("a",{style:{fontWeight:"normal",color:"#0039cb"},href:"/forgotpassword",children:[Object(u.jsx)(b.a,{icon:d.k})," Forgot Password"]})," \xa0\xa0\xa0",Object(u.jsx)("a",{style:{fontWeight:"normal",color:"#0039cb"},href:"/signup",children:"Sign Up"})]})]})]})}function T(){var e=window.localStorage.getItem("Token"),t=Object(w.useState)([]),c=Object(i.a)(t,2),s=(c[0],c[1],Object(w.useState)([])),a=Object(i.a)(s,2),r=(a[0],a[1],Object(w.useState)([0])),l=Object(i.a)(r,2),j=(l[0],l[1],Object(w.useState)("")),o=Object(i.a)(j,2),b=(o[0],o[1],"http://thegreenlab.xyz:3000"),d=Object(w.useState)([]),h=Object(i.a)(d,2),O=h[0],f=h[1],p=Object(w.useState)(""),v=Object(i.a)(p,2),y=(v[0],v[1],Object(w.useState)([])),N=Object(i.a)(y,2),D=N[0],T=N[1];Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);var k=function(){var t=Object(m.a)(x.a.mark((function t(c){var n,s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b+"/Devices/Search?SerialNumber=".concat(c),t.next=3,fetch(n,{method:"GET",headers:{Authorization:"Basic "+e}});case 3:return s=t.sent,t.next=6,s.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(m.a)(x.a.mark((function t(){var c,n,s,a,r,i,l,j,o,d,u,h,O,m,p,v;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=window.location.search,n=new URLSearchParams(c),s=n.get("DeviceSerialNumber"),t.next=5,k(s);case 5:a=t.sent,T(a.Sensors),r=[],i=0;case 9:if(!(i<a.Sensors.length)){t.next=28;break}return l=a.Sensors[i],j="".concat(b,"/Datums/Last7Days?DeviceSerialNumber=").concat(s,"&SensorType=").concat(l.SensorType),t.next=14,fetch(j,{method:"GET",headers:{Authorization:"Basic "+e}});case 14:return o=t.sent,t.next=17,o.json();case 17:for(d=t.sent,u=l.SensorType,h=d[0].Unit,O=[],m=0;m<d.length;m++)O.push(d[m].Value);for(p=[],v=0;v<d.length;v++)p.push(d[v].ReceivedDate.substr(0,16));r.push({chart:{type:"spline"},title:{text:u},series:[{name:u,data:O}],xAxis:{categories:p},yAxis:{title:{text:h}}});case 25:i++,t.next=9;break;case 28:f(r);case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"datadetails",children:[Object(u.jsx)("h4",{children:"Lastest 7 Days Data "}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return C()},children:"Show"}),D.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(S.a,{highcharts:g.a,options:O[t]})})}))]})}function k(){window.localStorage.getItem("Token");var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],j=r[1],o=Object(n.useState)(""),h=Object(i.a)(o,2),O=h[0],f=h[1],p=Object(n.useState)(""),v=Object(i.a)(p,2),g=v[0],y=v[1],S=Object(n.useState)(""),N=Object(i.a)(S,2),w=N[0],D=N[1],T=Object(n.useState)(""),k=Object(i.a)(T,2),C=k[0],I=k[1],A=Object(n.useState)(""),E=Object(i.a)(A,2),z=E[0],M=E[1],F=Object(n.useState)(""),B=Object(i.a)(F,2),W=(B[0],B[1],Object(n.useState)("")),U=Object(i.a)(W,2),L=U[0],P=U[1],G="http://thegreenlab.xyz:3000",J=Object(n.useState)(!0),Y=Object(i.a)(J,2),R=(Y[0],Y[1]);Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(G+"/Devices",{method:"GET",headers:{Authorization:"Basic aGllbkBnbWFpbC5jb206MTIz"}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,s(c),R(!1);case 8:case"end":return e.stop()}}),e)}))),[]);return Object(u.jsxs)("div",{className:"container-labs",children:[Object(u.jsx)("h3",{children:"Group Devices"}),Object(u.jsx)("input",{type:"hidden",className:"form-control",value:l,onChange:function(e){return j(e.target.value)}}),Object(u.jsx)("label",{children:"Description:"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:g,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("label",{children:"FriendlyName:"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:O,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("label",{children:"Model:"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:w,onChange:function(e){return D(e.target.value)}}),Object(u.jsx)("label",{children:"SerialNumber:"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:C,onChange:function(e){return I(e.target.value)}}),Object(u.jsx)("label",{children:"Type:"}),Object(u.jsx)("input",{type:"text",className:"form-control",value:z,onChange:function(e){return M(e.target.value)}}),Object(u.jsx)("label",{children:"IsActive:"}),Object(u.jsx)("input",{type:"checkbox",id:"checked"})," ",Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){""===l?fetch(G+"/Devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic aGllbkBnbWFpbC5jb206MTIz"},body:JSON.stringify({description:g,friendlyName:O,model:w,serialNumber:C,type:z,isActive:L})}).then((function(e){return s(e)})):fetch(G+"/Devices",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic aGllbkBnbWFpbC5jb206MTIz"},body:JSON.stringify({id:l,description:g,friendlyName:O,model:w,serialNumber:C,type:z,isActive:L})}).then((function(e){return s(e)}))},children:"Save"})," ",Object(u.jsx)("n",{}),Object(u.jsx)("button",{onClick:function(){return y(""),f(""),D(""),I(""),M(""),P(""),void j("")},children:"Add new"}),Object(u.jsx)("div",{className:"table-gdevices",children:Object(u.jsxs)("table",{className:"table table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:"All Devices"})})}),Object(u.jsx)("tbody",{children:c.map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:["  ",Object(u.jsx)("input",{type:"checkbox",id:"checked"})," "]}),Object(u.jsxs)("td",{children:["FriendlyName: ",e.FriendlyName," ",Object(u.jsx)("br",{}),"Description: ",e.Description,Object(u.jsx)("br",{}),"Model:",e.Model,Object(u.jsx)("br",{}),"SerialNumber: ",e.SerialNumber,Object(u.jsx)("br",{}),"Type: ",e.Type,Object(u.jsx)("br",{}),e.IsActive]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn btn-success",onClick:function(){return function(e,t,c,n,s,a){y(e),f(t),D(c),I(n),M(s),P(a)}(e.FriendlyName,e.Description,e.Model,e.SerialNumber,e.Type,e.IsActive)},children:Object(u.jsx)(b.a,{icon:d.e})})," ",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(){return function(e){fetch(G+"/Devices/"+e,{method:"DELETE",headers:{Authorization:"Basic aGllbkBnbWFpbC5jb206MTIz"}}).then((function(e){return s(e)}))}(e._id)},children:[" ",Object(u.jsx)(b.a,{icon:d.j})," "]})]})]})})}))})]})})]})}function C(){p()();var e=window.localStorage.getItem("Token"),t=Object(n.useState)([]),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),j=l[0],o=l[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),f=O[0],v=O[1],g=Object(n.useState)(""),y=Object(i.a)(g,2),S=y[0],N=y[1],w=Object(n.useState)(""),D=Object(i.a)(w,2),T=D[0],k=D[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),A=I[0],E=I[1],z=Object(n.useState)(""),M=Object(i.a)(z,2),F=M[0],B=M[1],W=Object(n.useState)(""),U=Object(i.a)(W,2),L=(U[0],U[1],Object(n.useState)("")),P=Object(i.a)(L,2),G=P[0],J=P[1],Y=Object(n.useState)(""),R=Object(i.a)(Y,2),H=R[0],V=R[1],q=Object(n.useState)(""),X=Object(i.a)(q,2),Q=X[0],_=X[1],K="http://thegreenlab.xyz:3000",Z=Object(n.useState)(!0),$=Object(i.a)(Z,2),ee=($[0],$[1]),te=Object(n.useState)(""),ce=Object(i.a)(te,2),ne=(ce[0],ce[1],function(){var t=Object(m.a)(x.a.mark((function t(){var c,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(K+"/Devices",{method:"GET",headers:{Authorization:"Basic "+e}});case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,a(n),ee(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());Object(n.useEffect)((function(){ne()}),[]);document.querySelector("#isActive:checked");return Object(u.jsxs)("div",{id:"devicesform",className:"container-labs",children:[Object(u.jsx)("h3",{style:{marginLeft:80,fontWeight:"bold"},children:"Devices"}),Object(u.jsxs)("div",{className:"form",children:[Object(u.jsxs)("div",{className:"formg1",children:[Object(u.jsx)("div",{class:"mb-3 mt-3",children:Object(u.jsx)("input",{type:"hidden",className:"form-control",value:j,onChange:function(e){return o(e.target.value)}})}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"DateSync:"}),Object(u.jsx)("input",{style:{width:500},type:"datetime",className:"form-control",value:H,onChange:function(e){return V(e.target.value)}})]}),Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"Description:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:S,onChange:function(e){return N(e.target.value)}}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"FriendlyName:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"Model:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:T,onChange:function(e){return k(e.target.value)}})]})]}),Object(u.jsxs)("div",{className:"formg2",children:[Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"SerialNumber:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:A,onChange:function(e){return E(e.target.value)}})]}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"Type:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:F,onChange:function(e){return B(e.target.value)}})]}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:500,fontWeight:"bold"},children:"LabSerialNumber:"}),Object(u.jsx)("input",{style:{width:500},type:"text",className:"form-control",value:G,onChange:function(e){return J(e.target.value)}})]}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{fontWeight:"bold"},children:"IsActive:"})," \xa0",Object(u.jsx)("input",{style:{width:20,height:20,fontWeight:"bold"},type:"checkbox",id:"isActive",value:"yes"})]})]})]}),Object(u.jsxs)("div",{className:"btnDeviceForm",children:[Object(u.jsx)("button",{class:"btn btn-primary",style:{fontWeight:"bold"},onClick:function(){""===j?fetch(K+"/Devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify({DateSync:H,Description:S,FriendlyName:f,Model:T,SerialNumber:A,Type:F,LabSerialNumber:G,IsActive:Q})}).then((function(e){return ne()})):fetch(K+"/Devices",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify({Id:j,DateSync:H,Description:S,FriendlyName:f,Model:T,SerialNumber:A,Type:F,LabSerialNumber:G,IsActive:Q})}).then((function(e){return ne()}))},children:"Save"})," \xa0 \xa0",Object(u.jsx)("button",{class:"btn btn-primary",style:{fontWeight:"bold"},onClick:function(){return N(""),v(""),k(""),E(""),B(""),_(""),o(""),J(""),void V("")},children:"Add new"})]}),Object(u.jsx)("div",{className:"infoTable",children:Object(u.jsxs)("table",{className:"table table-bordered",children:[Object(u.jsx)("thead",{style:{fontWeight:"bold"},children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ID"}),Object(u.jsx)("td",{children:"DateSync"}),Object(u.jsx)("td",{children:"Description"}),Object(u.jsx)("td",{children:"FriendlyName"}),Object(u.jsx)("td",{children:"Model"}),Object(u.jsx)("td",{children:"SerialNumber"}),Object(u.jsx)("td",{children:"Type "}),Object(u.jsx)("td",{children:"LabSerialNumber"}),Object(u.jsx)("td",{children:"IsActive"}),Object(u.jsx)("td",{children:"Action"})]})}),Object(u.jsx)("tbody",{children:s.map((function(t,c){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.Id}),Object(u.jsx)("td",{children:p()(t.DateSync).format("DD/MM/YY,HH:mm")}),Object(u.jsxs)("td",{children:[" ",t.Description]}),Object(u.jsxs)("td",{children:[t.FriendlyName," "]}),Object(u.jsxs)("td",{children:[" ",t.Model]}),Object(u.jsx)("td",{children:t.SerialNumber}),Object(u.jsx)("td",{children:t.Type}),Object(u.jsx)("td",{children:t.LabSerialNumber}),Object(u.jsx)("td",{children:t.IsActive}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn btn-success",onClick:function(){return function(e,t,c,n,s,a,r,i,l){o(e),V(t),N(c),v(n),k(s),E(a),B(r),J(i),_(l)}(t.Id,t.DateSync,t.Description,t.FriendlyName,t.Model,t.SerialNumber,t.Type,t.LabSerialNumber,t.IsActive)},children:Object(u.jsx)(b.a,{icon:d.e})})," \xa0",Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(){return c=t.Id,void fetch(K+"/Devices/"+c,{method:"DELETE",headers:{Authorization:"Basic "+e}}).then((function(e){return ne()}));var c},children:[" ",Object(u.jsx)(b.a,{icon:d.j})," "]})]})]})})}))})]})})]})}var I=c(27),A=c.n(I);function E(){return Object(u.jsx)("div",{children:Object(u.jsx)(A.a,{children:"SignUp"})})}function z(){var e=window.localStorage.getItem("Token"),t=Object(n.useState)(""),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),j=l[0],o=l[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),f=O[0],p=O[1],v=Object(n.useState)([]),g=Object(i.a)(v,2),y=g[0],S=g[1],N=Object(n.useState)([]),w=Object(i.a)(N,2),D=(w[0],w[1],Object(n.useState)([])),T=Object(i.a)(D,2),k=(T[0],T[1],Object(n.useState)(!0)),C=Object(i.a)(k,2),I=(C[0],C[1]),A="http://thegreenlab.xyz:3000";Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E();case 1:case"end":return e.stop()}}),e)}))),[]);var E=function(){var t=Object(m.a)(x.a.mark((function t(){var c,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(A+"/Users",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+e}});case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,console.log(n),"undefined"!==typeof n.message?console.log(n.message):(S(n),I(!1));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"container-user",children:[Object(u.jsx)("h3",{children:"Users Management"}),Object(u.jsx)("div",{class:"mb-3 mt-3",children:Object(u.jsx)("input",{type:"hidden",value:f,onChange:function(e){return p(e.target.value)}})}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:100},children:"Email:"}),Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:100},children:"Password:"}),Object(u.jsx)("input",{type:"password",value:j,onChange:function(e){return o(e.target.value)}})]})]}),Object(u.jsxs)("div",{className:"btnDeviceForm",children:[Object(u.jsx)("button",{class:"btn btn-primary",style:{fontWeight:"bold"},onClick:function(){""===f?fetch(A+"/Users/Auth/Register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({Email:s,Password:j,userDevices:[]})}).then((function(e){return E()})):fetch(A+"/Users",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify({Id:f,Email:s,Password:j})}).then((function(e){return E()}))},children:"Save"})," \xa0 \xa0",Object(u.jsx)("button",{class:"btn btn-primary",style:{fontWeight:"bold"},onClick:function(){return p(""),a(""),void o("")},children:"Add new"})]}),Object(u.jsx)("div",{className:"infoTable",children:Object(u.jsxs)("table",{className:"table table-bordered",children:[Object(u.jsx)("thead",{style:{fontWeight:"bold"},children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ID"}),Object(u.jsx)("td",{children:"Email"}),Object(u.jsx)("td",{children:"Assign"}),Object(u.jsx)("td",{children:"Action"})]})}),Object(u.jsx)("tbody",{children:y.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.Id}),Object(u.jsx)("td",{children:t.Email}),Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:"/assignUser?id="+t.Id+"&email="+t.Email,children:"Assign User"})}),Object(u.jsxs)("td",{children:[Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(){return function(e,t,c){a(t),p(e),o(c)}(t.Id,t.Email,t.Password)},children:[Object(u.jsx)(b.a,{icon:d.e}),"Reset password"]})," \xa0",Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(){return c=t.Id,void(1==window.confirm("Do you want to delete?")&&fetch(A+"/Users/"+c,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+e}}).then((function(e){return E()})));var c},children:[" ",Object(u.jsx)(b.a,{icon:d.j})," "]})]})]})}))})]})})]})}function M(){p()();var e=Object(n.useState)({}),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!0),r=Object(i.a)(a,2),l=r[0],j=r[1],o=window.localStorage.getItem("Token");return Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://thegreenlab.xyz:3000/Datums/LastestDataByAllDevices",{method:"GET",headers:{Authorization:"Basic "+o}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:c=e.sent,s(c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error "+e.t0.message),s({children:[]});case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])}))),[]),Object(u.jsxs)("div",{className:"container mt-8",children:[Object(u.jsx)("h1",{className:"text-muted",style:{padding:20},children:" Online Monitoring System"}),Object(u.jsx)("div",{children:l?"Loading....":Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{className:"table-head",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Description"}),Object(u.jsx)("td",{children:"DateSync"}),Object(u.jsx)("td",{children:"Status"}),Object(u.jsx)("td",{children:"Parameters"}),Object(u.jsx)("td",{children:"Chart"})]})}),Object(u.jsx)("tbody",{children:c.children.map((function(e){var t="/details?DeviceSerialNumber=".concat(e.name),c="/datadetails?DeviceSerialNumber=".concat(e.name);return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[e.Description," ",Object(u.jsx)("br",{}),"FriendlyName: ",e.FriendlyName," ",Object(u.jsx)("br",{}),"Model: ",e.Model," ",Object(u.jsx)("br",{}),"SerialNumber: ",e.SerialNumber," ",Object(u.jsx)("br",{}),"Type: ",e.Type," ",Object(u.jsx)("br",{})]}),Object(u.jsx)("td",{type:"datetime"}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:e.children.map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("span",{className:"dot",children:[e.SensorType.slice(0,4)," ",Object(u.jsx)("br",{})," ",e.Value]})})}))}),Object(u.jsxs)("td",{children:[Object(u.jsx)("a",{style:{color:"#087f23",fontWeight:"normal"},href:c,children:"Chart By Date"}),Object(u.jsx)("br",{}),Object(u.jsx)("a",{style:{color:"#087f23",fontWeight:"normal"},href:t,children:"Chart By Value "})," ",Object(u.jsx)("br",{})]})]})}))})]})})]})}var F=c(11);function B(){var e=window.localStorage.getItem("Token"),t=Object(n.useState)(""),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),j=l[0],o=l[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),f=O[0],p=O[1],v=Object(n.useState)([]),g=Object(i.a)(v,2),y=g[0],S=g[1],N=Object(n.useState)([]),w=Object(i.a)(N,2),D=w[0],T=w[1],k=Object(n.useState)([]),C=Object(i.a)(k,2),I=C[0],A=C[1],E=Object(n.useState)(!0),z=Object(i.a)(E,2),M=(z[0],z[1]),F="http://thegreenlab.xyz:3000";Object(n.useEffect)(Object(m.a)(x.a.mark((function e(){var t,c,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(),t=window.location.search,c=new URLSearchParams(t),n=c.get("id"),s=c.get("email"),p(n),a(s),W(n);case 8:case"end":return e.stop()}}),e)}))),[]);var B=function(){var t=Object(m.a)(x.a.mark((function t(){var c,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+"/Devices",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+e}});case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,S(n),A(n),M(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(m.a)(x.a.mark((function t(c){var n,s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+"/Users/"+c,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+e}});case 2:return n=t.sent,t.next=5,n.json();case 5:s=t.sent,a=s.userDevices.map((function(e){return{Id:e.DeviceId,SerialNumber:e.DeviceSerialNumber}})),T(a),M(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function U(e){for(var t,c=[],n=e&&e.options,s=0,a=n.length;s<a;s++)(t=n[s]).selected&&c.push({Id:t.value,SerialNumber:t.text});return c}return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"container-user",children:[Object(u.jsx)("h3",{children:"Users Management"}),Object(u.jsx)("div",{class:"mb-3 mt-3",children:Object(u.jsx)("input",{type:"hidden",value:f,onChange:function(e){return p(e.target.value)}})}),Object(u.jsxs)("div",{class:"mb-3 mt-3",children:[Object(u.jsx)("label",{style:{width:100},children:"Email:"}),Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsx)("div",{children:"Select a device"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-5",children:[Object(u.jsx)("input",{type:"text",value:j,onChange:function(e){return function(e){o(e);var t=I.filter((function(t){return t.SerialNumber.indexOf(e)>=0}));S(t)}(e.target.value)}}),Object(u.jsx)("select",{className:"form-select",id:"selDevice",multiple:"muliple",size:"20",children:y.filter((function(e){return""!==e.SerialNumber})).map((function(e){return Object(u.jsxs)("option",{value:e.Id,children:[e.SerialNumber," "]})}))})]}),Object(u.jsxs)("div",{className:"col-md-2",children:[Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){return function(){var e=U(document.querySelector("#selDevice")),t=y.filter((function(t){return!e.find((function(e){return e.Id==t.Id}))}));S(t);var c=D;c=(c=c.concat(e)).filter((function(e,t,c){return t===c.findIndex((function(t){return t.Id===e.Id&&t.SerialNumber===e.SerialNumber}))})),T(c)}()},children:[" ",Object(u.jsx)(b.a,{icon:d.b})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){return function(){var e=U(document.querySelector("#selSelectedDevice")),t=D.filter((function(t){return!e.find((function(e){return e.Id==t.Id}))}));T(t);var c=y;c=c.concat(e),S(c)}()},children:[" ",Object(u.jsx)(b.a,{icon:d.a})]})]}),Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsx)("select",{className:"form-select",id:"selSelectedDevice",multiple:"muliple",size:"20",children:D.filter((function(e){return""!==e.SerialNumber})).map((function(e){return Object(u.jsxs)("option",{value:e.Id,children:[e.SerialNumber," "]})}))})})]})]}),Object(u.jsxs)("div",{className:"btnDeviceForm",children:[Object(u.jsx)("button",{class:"btn btn-primary",onClick:function(){return function(){for(var t=[],c=0;c<D.length;c++)t=t.concat({User:{Id:f},Device:{Id:D[c].Id},DeviceSerialNumber:D[c].SerialNumber,DeviceId:D[c].Id});console.log(t),fetch(F+"/UserDevices/Assign",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return alert(JSON.stringify(e))}))}()},children:"Save"})," \xa0 \xa0",Object(u.jsx)("button",{class:"btn btn-primary",onClick:function(){return document.location="/Users"},children:"Back"})," \xa0 \xa0"]})]})}var W=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){document.title="Online Monitoring System ",null===localStorage.getItem("Token")||""===localStorage.getItem("Token")?s(!0):s(!1)}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),c?Object(u.jsx)(D,{}):Object(u.jsx)(l.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/signin",caseSensitive:!1,element:Object(u.jsx)(D,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/dashboard",caseSensitive:!1,element:Object(u.jsx)(M,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/groupdevices",caseSensitive:!1,element:Object(u.jsx)(k,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/datadetails",caseSensitive:!1,element:Object(u.jsx)(T,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/details",caseSensitive:!1,element:Object(u.jsx)(N,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/devicesform",caseSensitive:!1,element:Object(u.jsx)(C,{})})}),Object(u.jsx)(j.c,{children:Object(u.jsx)(j.a,{path:"/signup",caseSensitive:!1,element:Object(u.jsx)(E,{})})}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/users",caseSensitive:!1,element:Object(u.jsx)(z,{})}),Object(u.jsx)(j.a,{path:"/assignUser",caseSensitive:!1,element:Object(u.jsx)(B,{})})]})]})})]})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))},L=c(28);F.b.add(d.g,d.d,d.f,d.l,d.h,d.c),F.b.add(L.a),r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root")),U()}},[[72,1,2]]]);
//# sourceMappingURL=main.67e94d0d.chunk.js.map